<archimate:ArchimateDiagramModel
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:archimate="http://www.archimatetool.com/archimate"
    name="Seguridad.Owasp"
    id="id-aeb92b18d928486db2f55e46e9e4cc3b"
    documentation="Durante todo el proceso se realizarán pruebas de análisis de vulnerabilidades que pueda tener el sistema. Se establecerán puntos donde el software esté preparado para dicho análisis. En conjunto con el líder de Seguridad, se analizarán las posibles vulnerabilidades y se revisarán cuáles pueden ser mitigadas y cuáles pueden ser omitidas. &#xD;&#xA;Para el paso a producción, se realizará un último análisis de vulnerabilidades y se tendrá en cuenta la revisión de las acciones de mitigación, con el fin que se hayan resuelto. &#xD;&#xA;&#xD;&#xA;La empresa establecerá buenas prácticas para el desarrollo seguro de software, a partir de la implementación del estándar internacional OWASP (Open Web Application Security Project). El propósito principal será garantizar la seguridad de las soluciones de la Procuraduría General de la Nación PGN.  Se tiene en cuenta lineamientos técnicos de acuerdo con las normas establecidas en top ten (10) del OWASP: &#xD;&#xA;&#xD;&#xA;Código de Inyección SQL:&#xD;&#xA;Vulnerabilidad que se puede presentar por intermedio de peticiones o consultas a las bases de datos, y las entradas de la aplicación no son controladas debidamente. &#xD;&#xA;&#xD;&#xA;Controles: &#xD;&#xA;- Descarte de caracteres especiales, espacios que innecesarios del lado del cliente y/o servidor. &#xD;&#xA;- Verificación de caracteres incluidos en consultas SQL o LDAP, para el lado cliente como servidor. &#xD;&#xA;- Limitación cantidad de caracteres del campo creado. &#xD;&#xA;- Verificación del resultado de consulta, que genere resultado de consulta o ningún resultado (Si es mostrado más de un resultado, deberá ser considerado error). &#xD;&#xA;- Numero de intentos fallidos por ingreso de contraseñas. &#xD;&#xA;&#xD;&#xA;Falla en las autenticación y Administración de Sesión: &#xD;&#xA;Presentada debido a las fallas en la administración de las funciones de autenticación o sesión. (Como exposición de usuarios, contraseñas e identificador único).&#xD;&#xA;&#xD;&#xA;Controles:&#xD;&#xA;- Descarte por caracteres especiales. Espacios innecesarios como para el lado del servidor y cliente.&#xD;&#xA;- Verificación de meta caracteres SQL o LDAP, para el lado del servidor y cliente.&#xD;&#xA;- Validar el uso del método POST, si se envían datos de servidores públicos y/o contratistas.&#xD;&#xA;- No permitir el almacenamiento de datos de los funcionarios en las cookies. &#xD;&#xA;- Limitación de los tiempos en las sesiones. &#xD;&#xA;&#xD;&#xA;Técnicas de Cross Site Scripting XSS:&#xD;&#xA;Vulnebilidad presentada cuando los datos de entrada son utilizados para desarrollar el contenido del sistema de información, sin validar la información que se envía por la URL.&#xD;&#xA;&#xD;&#xA;Controles: &#xD;&#xA;- Revisar la incorporación de caracteres especiales, espacios que no sean necesarios dentro del campo de texto, así como para el lado del cliente y el servidor. &#xD;&#xA;&#xD;&#xA;Referencias directas a objetos de forma insegura:&#xD;&#xA;Presentada cuando se referencia a un objeto interno, tal como directorio, archivo, algún registro de la base de datos BD en la URL, y no establecen los respectivos controles para el acceso a los recursos. &#xD;&#xA;&#xD;&#xA;Controles:&#xD;&#xA;- Evitar el uso de campo de referencia, podrá ser modificado con facilidad. &#xD;&#xA;- Verificación de objeto válido en el envío de datos. &#xD;&#xA;- Identificar los tipos de datos y objetos a enviar y los métodos de uso para cada uno de estos. &#xD;&#xA;&#xD;&#xA;Cross site Request Forgery (CSFR):&#xD;&#xA;Presentado en aplicaciones donde las peticiones son fáciles de predecir a partir del uso de comandos que son transmitidos por un usuario desconocido. &#xD;&#xA;&#xD;&#xA;Controles: &#xD;&#xA;- Evitar variables en las URL, si es posible utilizarlas, se deberá comprobar la información que contiene. &#xD;&#xA;- Tener en cuenta el envío de información que se envía por las URL. &#xD;&#xA;- Tener en cuenta el uso de token como herramienta de validación. &#xD;&#xA;- Validación de sesiones. &#xD;&#xA;&#xD;&#xA;Pobre Mala Configuración de Seguridad:&#xD;&#xA;Puedo presentarse cuando se dejan las cuentas de accesos por defecto, archivos y directorios si establecer controles de seguridad, generando puertas traseras que pueden ser aprovechadas por los ciberdelincuentes para vulnerar el sistema de información. &#xD;&#xA;Controles:&#xD;&#xA;- Asignar nuevas configuraciones a las definidas de fábrica. &#xD;&#xA;- El personal de infraestructura deberá tener en cuenta los requerimientos de la aplicación para establecer las configuraciones adecuadas. &#xD;&#xA;- Se debe tener en cuenta la habilitación de los servicios estrictamente necesarios. &#xD;&#xA;&#xD;&#xA;Almacenamiento inseguro de Criptografía:&#xD;&#xA;Se presenta por debilidades en el proceso de implementación de controles criptográficos, algoritmos de cifrado y almacenamiento inseguro de llaves. &#xD;&#xA;&#xD;&#xA;Controles: &#xD;&#xA;- Algoritmos de cifrado (AES, SHA-256). &#xD;&#xA;- Para el uso de controles asimétricos, tener en cuenta la custodia de las llaves privadas. &#xD;&#xA;- Seguridad en la capa de transporte TLS y certificados SSL. &#xD;&#xA;- Cifrado de datos sensibles. &#xD;&#xA;&#xD;&#xA;Falla al restringir acceso por URL: &#xD;&#xA;Se presenta cuando se generan solicitudes a las páginas y no se encuentran protegidas adecuadamente. Son modificadas las URL para obtener el acceso con privilegios. &#xD;&#xA;&#xD;&#xA;Controles: &#xD;&#xA;- La cuenta de algún servidor público con menor privilegio de acceso a la solución, modificar la URL para verificar el acceso, si es aceptado el acceso, se identifica que el sistema de información es vulnerable. &#xD;&#xA;&#xD;&#xA;Redirrecionamiento y reenvíos sin validación: &#xD;&#xA;Con frecuencia las aplicaciones envían hacia otras páginas cuando se ejecutan parámetros que no son validados, el atacante puede definir el sitio al que se quiere re direccionar. &#xD;&#xA;&#xD;&#xA;Controles: &#xD;&#xA;- Validación del campo de referencia, analizador de registros web, para proteger de ataques XSS y otros tipos de ataques. &#xD;&#xA;- Verificación de privilegios. &#xD;&#xA;&#xD;&#xA;Insuficiente protección de la capa de transporte: &#xD;&#xA;Se presenta si la información que viaja por internet no se encuentra debidamente protegida. Un usuario externo que monitoree la red, podrá obtener información (Usuarios, Contraseñas e Identificación). &#xD;&#xA;Controles: &#xD;&#xA;- Vulnerabilidad enfocada a nivel de infraestructura. Podrá ser utilizado un Snnifer para el monitoreo de la red. &#xD;&#xA;&#xD;&#xA;Los lineamientos de desarrollo seguro establecidos en The OWASP Foundation recomendados en la “Guía de desarrollo OWASP” y “OWASP Cheat Sheet, permitirá realizar pruebas de seguridad integrando el analisis de vulnerabilidades, y pruebas de Ethical Hacking. &#xD;&#xA;Los resultados permitirán identificar los requisitos de seguridad que los sistemas de información o servicios web deberán cumplir.&#xD;&#xA;La metodología empleada tendrá las siguientes fases: &#xD;&#xA;&#xD;&#xA;* FASE DE RECONOCIMIENTO: &#xD;&#xA;Se recolectará toda la información posible, usando diferentes técnicas como:&#xD;&#xA;* Recopilación de dominios/IPs/puertos/servicios&#xD;&#xA;* Recopilación de metadatos&#xD;&#xA;* Uso de Google Dorks.&#xD;&#xA;&#xD;&#xA;* ANÁLSIS DE VULNERABILIDADES: &#xD;&#xA;Se analizará la información recopilada en la fase anterior y se realizará el descubrimiento de las vulnerabilidades. &#xD;&#xA;&#xD;&#xA;* EXPLOTACIÓN: &#xD;&#xA;* Se realizarán todas aquellas acciones que puedan comprometer al sistema auditado, las pruebas a implementar pueden ser de ataques tipo: &#xD;&#xA;* Inyección de código&#xD;&#xA;* Inclusión de ficheros locales o remotos&#xD;&#xA;* Evasión de autenticación&#xD;&#xA;* Carencia de controles de autorización&#xD;&#xA;* Ejecución de comandos en el lado del servidor&#xD;&#xA;* Ataques tipo Cross Site Request Forgery&#xD;&#xA;* Control de errores&#xD;&#xA;* Gestión de sesiones&#xD;&#xA;* Fugas de información&#xD;&#xA;* Secuestros de sesión&#xD;&#xA;* Comprobación de las condiciones para realizar una denegación de servicio.&#xD;&#xA;&#x9;&#xD;&#xA;* POST EXPLOTACIÓN:&#xD;&#xA;En caso de encontrarse una vulnerabilidad que permita realizar otras acciones en el sistema auditado o en su entorno, se realizarán controles adiciones con el objetivo de comprobar la criticidad de esta.&#xD;&#xA;&#xD;&#xA;URL&#xD;&#xA;https://runtimetest.lappiz.io/#/auth/login/PGN_Lappiz&#xD;&#xA;IP&#xD;&#xA;135.181.185.207&#xD;&#xA;&#xD;&#xA;El Login deberá evidenciar el control de errores, al momento de realizar la validación deberá mensaje de error para el caso que se autentique con credenciales erradas.&#xD;&#xA;&#xD;&#xA;"
    viewpoint="application_usage">
  <children
      xsi:type="archimate:DiagramModelArchimateObject"
      id="id-8d6abe89dc85405d9d0fe28babeeb4a1"
      targetConnections="id-96c9ef89ad314ef6b2dd15a4058d2210">
    <sourceConnections
        xsi:type="archimate:DiagramModelArchimateConnection"
        id="id-b1881d6a817e4b33ac81261224d10f7e"
        source="id-8d6abe89dc85405d9d0fe28babeeb4a1"
        target="id-f773b488a79542409a1002be11d187ce">
      <archimateRelationship
          xsi:type="archimate:ServingRelationship"
          href="ServingRelationship_id-04cc59264bdf4fbe8a2842d2ec97b6c1.xml#id-04cc59264bdf4fbe8a2842d2ec97b6c1"/>
    </sourceConnections>
    <bounds
        x="217"
        y="216"
        width="120"
        height="55"/>
    <archimateElement
        xsi:type="archimate:ApplicationComponent"
        href="ApplicationComponent_id-dacd09492064435984348c7d381eaad8.xml#id-dacd09492064435984348c7d381eaad8"/>
  </children>
  <children
      xsi:type="archimate:DiagramModelArchimateObject"
      id="id-0b49145e0204431abec50b1f000a9ea4"
      targetConnections="id-30e0572f4cfa4426864a9a68c3724346">
    <sourceConnections
        xsi:type="archimate:DiagramModelArchimateConnection"
        id="id-9b7748c62b294a6786797cd8c58ec9ac"
        source="id-0b49145e0204431abec50b1f000a9ea4"
        target="id-f773b488a79542409a1002be11d187ce">
      <archimateRelationship
          xsi:type="archimate:ServingRelationship"
          href="ServingRelationship_id-fd6bce433c424d2eb7966beeedee56d8.xml#id-fd6bce433c424d2eb7966beeedee56d8"/>
    </sourceConnections>
    <bounds
        x="217"
        y="312"
        width="120"
        height="55"/>
    <archimateElement
        xsi:type="archimate:ApplicationComponent"
        href="ApplicationComponent_id-ab970f122c1f4d01b2a371e40e99e7e4.xml#id-ab970f122c1f4d01b2a371e40e99e7e4"/>
  </children>
  <children
      xsi:type="archimate:DiagramModelArchimateObject"
      id="id-f773b488a79542409a1002be11d187ce"
      targetConnections="id-9b7748c62b294a6786797cd8c58ec9ac id-b1881d6a817e4b33ac81261224d10f7e">
    <bounds
        x="445"
        y="258"
        width="120"
        height="55"/>
    <archimateElement
        xsi:type="archimate:Node"
        href="Node_id-b2fd8c1d45544e9f9562e7e6c87a8930.xml#id-b2fd8c1d45544e9f9562e7e6c87a8930"/>
  </children>
  <children
      xsi:type="archimate:DiagramModelArchimateObject"
      id="id-2681151059134993bbec0b5e02fd35b3">
    <sourceConnections
        xsi:type="archimate:DiagramModelArchimateConnection"
        id="id-96c9ef89ad314ef6b2dd15a4058d2210"
        source="id-2681151059134993bbec0b5e02fd35b3"
        target="id-8d6abe89dc85405d9d0fe28babeeb4a1">
      <archimateRelationship
          xsi:type="archimate:ServingRelationship"
          href="ServingRelationship_id-f57ca6c9616a4d7ab6064b61ac802ad6.xml#id-f57ca6c9616a4d7ab6064b61ac802ad6"/>
    </sourceConnections>
    <sourceConnections
        xsi:type="archimate:DiagramModelArchimateConnection"
        id="id-30e0572f4cfa4426864a9a68c3724346"
        source="id-2681151059134993bbec0b5e02fd35b3"
        target="id-0b49145e0204431abec50b1f000a9ea4">
      <archimateRelationship
          xsi:type="archimate:ServingRelationship"
          href="ServingRelationship_id-e7b7b70948e44665923c0598d7e24789.xml#id-e7b7b70948e44665923c0598d7e24789"/>
    </sourceConnections>
    <bounds
        x="25"
        y="258"
        width="120"
        height="55"/>
    <archimateElement
        xsi:type="archimate:BusinessActor"
        href="BusinessActor_id-abe09dd629d64a0daf74015ecc423eb3.xml#id-abe09dd629d64a0daf74015ecc423eb3"/>
  </children>
  <children
      xsi:type="archimate:DiagramModelNote"
      id="id-4141cf5b3a974f8a9b2f6622ec3be6f5"
      textAlignment="1"
      content="Procuraduría General de la Nación&#xA;Proyecto Migración SIU, 2023. Fase II&#xA;&#xD;&#xA;Metodología sobre el Desarrollo de Código Seguro - Pruebas de seguridad OWASP TOP 10.&#xA;&#xA;versión 0.2">
    <bounds
        x="12"
        y="24"
        width="325"
        height="168"/>
    <properties
        key="modulo"
        value="relatoria"/>
  </children>
</archimate:ArchimateDiagramModel>
